

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Parameter Reference &mdash; miaaim 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tutorials" href="tutorials.html" />
    <link rel="prev" title="Workflows" href="workflows.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: 5DADE2" >
          

          
            <a href="index.html" class="icon icon-home"> miaaim
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Nextflow User Guide / Tutorials</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html#linux-os-x">Linux / OS X</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#windows">Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#installing-miaaim-in-python">Installing MIAAIM in Python</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quick_start.html">Quick Start</a><ul>
<li class="toctree-l2"><a class="reference internal" href="quick_start.html#prototype-001">prototype-001</a><ul>
<li class="toctree-l3"><a class="reference internal" href="quick_start.html#download-data">Download Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="quick_start.html#image-preprocessing">Image Preprocessing</a></li>
<li class="toctree-l3"><a class="reference internal" href="quick_start.html#image-registration">Image Registration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="directory.html">Folder Structure</a><ul>
<li class="toctree-l2"><a class="reference internal" href="directory.html#input">input</a></li>
<li class="toctree-l2"><a class="reference internal" href="directory.html#hdiprep">hdiprep</a></li>
<li class="toctree-l2"><a class="reference internal" href="directory.html#hdireg">hdireg</a></li>
<li class="toctree-l2"><a class="reference internal" href="directory.html#docs">docs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="workflows.html">Workflows</a><ul>
<li class="toctree-l2"><a class="reference internal" href="workflows.html#image-preparation-hdiprep">Image Preparation (HDIprep)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="workflows.html#yaml-parameter-file-input-basics">YAML Parameter File Input Basics</a></li>
<li class="toctree-l3"><a class="reference internal" href="workflows.html#high-parameter-image-processing">High-Parameter Image Processing</a></li>
<li class="toctree-l3"><a class="reference internal" href="workflows.html#histological-image-processing">Histological Image Processing</a></li>
<li class="toctree-l3"><a class="reference internal" href="workflows.html#hdiprep-implementation-guide">HDIprep Implementation Guide</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="workflows.html#image-registration-hdireg">Image Registration (HDIreg)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="workflows.html#hdireg-implementation-guide">HDIreg Implementation Guide</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="workflows.html#tissue-state-modelling-patchmap">Tissue State Modelling (PatchMAP)</a></li>
<li class="toctree-l2"><a class="reference internal" href="workflows.html#cross-system-tissue-information-transfer-i-patchmap">Cross-System/Tissue Information Transfer (i-PatchMAP)</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Parameter Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#nextflow">Nextflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="#hdiprep">HDIprep</a></li>
<li class="toctree-l2"><a class="reference internal" href="#hdireg">HDIreg</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#docker-singularity-containers">Docker/Singularity Containers</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#resource-allocation">Resource Allocation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#memory">Memory</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#cpu">CPU</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#preset-resource-allocation-options">Preset Resource Allocation Options</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="provenance.html">Provenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#adding-imaging-modalities">Adding Imaging Modalities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="contributing.html#importing-new-modalities-adding-file-formats">Importing New Modalities / Adding File Formats</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">MIAAIM in Python</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="python.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="python.html#dependencies">Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="python.html#usage-without-docker-install-with-pip">Usage without Docker / Install with Pip</a></li>
<li class="toctree-l2"><a class="reference internal" href="python.html#reproducibility-with-pip">Reproducibility with Pip</a></li>
<li class="toctree-l2"><a class="reference internal" href="python.html#docker">Docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="python.html#hdi-utility-functions-hdi-utils">HDI Utility Functions (hdi-utils)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="python-workflows.html">Workflow Implementations in Python</a><ul>
<li class="toctree-l2"><a class="reference internal" href="python-workflows.html#image-preparation-hdiprep">Image Preparation (HDIprep)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="python-workflows.html#steady-state-umap-compression">Steady-state UMAP compression</a></li>
<li class="toctree-l3"><a class="reference internal" href="python-workflows.html#histological-image-processing">Histological Image Processing</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="python-workflows.html#image-registration-hdireg">Image Registration (HDIreg)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="python-workflows.html#elastix">elastix</a></li>
<li class="toctree-l3"><a class="reference internal" href="python-workflows.html#transformix">transformix</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="python-workflows.html#tissue-state-modeling-patchmap">Tissue State Modeling (PatchMAP)</a></li>
<li class="toctree-l2"><a class="reference internal" href="python-workflows.html#cross-system-tissue-information-transfer-i-patchmap">Cross-System/Tissue Information Transfer (i-PatchMAP)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="jupyter.html">Jupyter Notebook Zoo</a><ul>
<li class="toctree-l2"><a class="reference internal" href="jupyter.html#image-preparation-hdiprep">Image Preparation (HDIprep)</a></li>
<li class="toctree-l2"><a class="reference internal" href="jupyter.html#image-registration-hdireg">Image Registration (HDIreg)</a></li>
<li class="toctree-l2"><a class="reference internal" href="jupyter.html#tissue-state-modelling-patchmap">Tissue State Modelling (PatchMAP)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api.html#image-preparation-hdiprep">Image Preparation (HDIprep)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api.html#module-hdiprep.HDIprep.hdi_prep">hdi_prep</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.html#module-hdiprep.HDIprep.utils">utils</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api.html#image-registration-hdireg">Image Registration (HDIreg)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api.html#module-hdireg.HDIreg.elastix">elastix</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.html#module-hdireg.HDIreg.transformix">transformix</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.html#id7">utils</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api.html#tissue-state-modeling-patchmap">Tissue State Modeling (PatchMAP)</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#cross-system-tissue-information-transfer-i-patchmap">Cross-System/Tissue Information Transfer (i-PatchMAP)</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Background on MIAAIM</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="background.html">Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="elastix.html">Elastix Basics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="elastix.html#registration-parameter-files-elastix">Registration Parameter Files (Elastix)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="elastix.html#multi-channel-input">Multi-channel Input</a></li>
<li class="toctree-l3"><a class="reference internal" href="elastix.html#single-channel-input">Single-channel Input</a></li>
<li class="toctree-l3"><a class="reference internal" href="elastix.html#help-the-registration-with-manual-landmarks">Help the Registration with Manual Landmarks</a></li>
<li class="toctree-l3"><a class="reference internal" href="elastix.html#outputs">Outputs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="elastix.html#applying-transformations-transformix">Applying Transformations (Transformix)</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Roadmap</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">MIAAIM Roadmap</a><ul>
<li class="toctree-l2"><a class="reference internal" href="roadmap.html#miaaim-0-0-1">MIAAIM 0.0.1</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Contributing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#adding-imaging-modalities">Adding Imaging Modalities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="contributing.html#importing-new-modalities-adding-file-formats">Importing New Modalities / Adding File Formats</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">FAQs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="faqs.html">FAQs</a></li>
</ul>
<p class="caption"><span class="caption-text">Contact</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contact.html">Contact Information</a></li>
</ul>
<p class="caption"><span class="caption-text">Funding</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="funding.html">Funding</a></li>
</ul>
<p class="caption"><span class="caption-text">License</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>
<p class="caption"><span class="caption-text">Acknowledgements</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="acknowledgements.html">Acknowledgements</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">miaaim</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Parameter Reference</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/JoshuaHess12/miaaim/blob/0.0.1parameters.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="parameter-reference">
<span id="parameter-reference-to-parameter-reference"></span><h1>Parameter Reference<a class="headerlink" href="#parameter-reference" title="Permalink to this headline">¶</a></h1>
<p>Here we provide parameter options for each workflow in MIAAIM. Commands are added
in the</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For up-to-date references of parameters for each workflow, visit the
<a class="reference internal" href="workflows.html#workflow-github-repositories-to-workflow-github-repositories"><span class="std std-ref">Workflow GitHub Repositories</span></a></p>
</div>
<div class="section" id="nextflow">
<h2>Nextflow<a class="headerlink" href="#nextflow" title="Permalink to this headline">¶</a></h2>
<p>Parameters passed are passed directly using the indicated flags below. See
<a class="reference external" href="https://www.nextflow.io/docs/latest/cli.html">here</a>
for a full description of flags that can be passed to Nextflow. We have listed
those below that are necessary for MIAAIM to run or are commonly used in our
own usage.</p>
<table class="docutils align-default" id="id4">
<caption><span class="caption-text">Nextflow parameters</span><a class="headerlink" href="#id4" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Flag</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Options</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">-with-report</span></code></p></td>
<td><p>generate provenance report</p></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">-resume</span></code></p></td>
<td><p>resume workflow with cached results</p></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">--profile</span></code></p></td>
<td><p>use indicated configuration profile</p></td>
<td><div class="line-block">
<div class="line"><code class="code docutils literal notranslate"><span class="pre">standard</span></code></div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">small</span></code></div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">medium</span></code></div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">big</span></code></div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">multi</span></code></div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">hyper</span></code></div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">LSFsmall</span></code></div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">LSFbig_multi</span></code></div>
</div>
</td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">--start-at</span></code></p></td>
<td><p>start workflow at indicated position</p></td>
<td><div class="line-block">
<div class="line"><code class="code docutils literal notranslate"><span class="pre">input</span></code></div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">hdiprep</span></code></div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">hdireg</span></code></div>
</div>
</td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">--start-at</span></code></p></td>
<td><p>start workflow at indicated position</p></td>
<td><div class="line-block">
<div class="line"><code class="code docutils literal notranslate"><span class="pre">hdiprep</span></code></div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">hdireg</span></code></div>
</div>
</td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">--fixed-image</span></code></p></td>
<td><p>fixed image for registration</p></td>
<td><div class="line-block">
<div class="line"><code class="code docutils literal notranslate"><span class="pre">*.ome.tiff</span></code></div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">*.ome.tif</span></code></div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">*.tiff</span></code></div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">*.hdf5</span></code></div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">*.h5</span></code></div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">*.nii</span></code></div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">*.imzml</span></code></div>
</div>
</td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">--moving-image</span></code></p></td>
<td><p>moving image for registration</p></td>
<td><div class="line-block">
<div class="line"><code class="code docutils literal notranslate"><span class="pre">*.ome.tiff</span></code></div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">*.ome.tif</span></code></div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">*.tiff</span></code></div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">*.hdf5</span></code></div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">*.h5</span></code></div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">*.nii</span></code></div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">*.imzml</span></code></div>
</div>
</td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">--fixed-pars</span></code></p></td>
<td><p>fixed image preprocessing yaml file</p></td>
<td><div class="line-block">
<div class="line"><code class="code docutils literal notranslate"><span class="pre">*.yaml</span></code></div>
<div class="line">see <a class="reference internal" href="#hdiprep-to-hdiprep-parameters"><span class="std std-ref">HDIprep parameter reference</span></a></div>
</div>
</td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">--moving-pars</span></code></p></td>
<td><p>moving image preprocessing yaml file</p></td>
<td><div class="line-block">
<div class="line"><code class="code docutils literal notranslate"><span class="pre">*.yaml</span></code></div>
<div class="line">see <a class="reference internal" href="#hdiprep-to-hdiprep-parameters"><span class="std std-ref">HDIprep parameter reference</span></a></div>
</div>
</td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">--elastix-pars</span></code></p></td>
<td><p>elastix registration parameters</p></td>
<td><div class="line-block">
<div class="line"><code class="code docutils literal notranslate"><span class="pre">*.txt</span></code></div>
<div class="line">see <a class="reference internal" href="#hdireg-to-hdireg-parameters"><span class="std std-ref">HDIreg parameter reference</span></a></div>
</div>
</td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">--transformix</span></code></p></td>
<td><p>apply transformation matrix</p></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">--transformix-pars</span></code></p></td>
<td><p>transformix parameters</p></td>
<td><div class="line-block">
<div class="line"><code class="code docutils literal notranslate"><span class="pre">*.txt</span></code></div>
<div class="line">see <a class="reference internal" href="#hdireg-to-hdireg-parameters"><span class="std std-ref">HDIreg parameter reference</span></a></div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When supplying file names as parameters, do not
indicate the file’s full path – only include the file name. For example,
do not enter <code class="code docutils literal notranslate"><span class="pre">--fixed-image</span> <span class="pre">path/to/image.ome.tiff</span></code>. Instead, enter
<code class="code docutils literal notranslate"><span class="pre">--fixed-image</span> <span class="pre">image.ome.tiff</span></code>.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If your input file is in the <code class="code docutils literal notranslate"><span class="pre">.imzml</span></code> format, be sure to include the
associated <code class="code docutils literal notranslate"><span class="pre">.ibd</span></code> file in the same directory that the image is stored.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can start a workflow at an intermediate step, such as <code class="code docutils literal notranslate"><span class="pre">hdireg</span></code>,
as long as you have the appropriate intermediate files present. <code class="code docutils literal notranslate"><span class="pre">hdiprep</span></code>
produces files with the suffix <code class="code docutils literal notranslate"><span class="pre">_processed</span></code>.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Nextflow does not currently see contents of parameters supplied to the
registration workflow. This means that resuming your analysis after changing
elastix parameter files will produce cached results. To fix this, change the file
name, or start the workflow at the <code class="code docutils literal notranslate"><span class="pre">hdireg</span></code> step without using the
<code class="code docutils literal notranslate"><span class="pre">resume</span></code> flag.</p>
</div>
</div>
<div class="section" id="hdiprep">
<span id="hdiprep-to-hdiprep-parameters"></span><h2>HDIprep<a class="headerlink" href="#hdiprep" title="Permalink to this headline">¶</a></h2>
<p>Here we list the optional input parameters that can be supplied to the HDIprep
workflow through the YAML parameter file. These parameters are passed to both
the fixed and moving images with separate YAML files.</p>
<table class="docutils align-default" id="id5">
<caption><span class="caption-text">–fixed-pars and –moving-pars</span><a class="headerlink" href="#id5" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>YAML Step / Flag</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Options</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Step : <code class="code docutils literal notranslate"><span class="pre">ImportOptions</span></code></p></td>
<td><p>options for reading image data</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">flatten:</span></code></p></td>
<td><p>flatten pixels for dimension reduction</p></td>
<td><div class="line-block">
<div class="line">Options:</div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">True</span></code> if compressing images</div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">False</span></code> if histology processing</div>
</div>
</td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">subsample:</span></code></p></td>
<td><p>subsample image for compression</p></td>
<td><div class="line-block">
<div class="line">Options:</div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">True</span></code> if subsampling pixels</div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">False</span></code> if no subsampling</div>
</div>
</td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">method:</span></code></p></td>
<td><p>subsampling method</p></td>
<td><div class="line-block">
<div class="line">Options:</div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">'grid'</span></code> for uniform grid sampling</div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">'random'</span></code> for random coordinate sampling</div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">'pseudo_random'</span></code> for random sampling</div>
<div class="line">initalized by uniform grids</div>
</div>
</td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">grid_spacing:</span></code></p></td>
<td><p>x and y grid spacing for sampling</p></td>
<td><div class="line-block">
<div class="line">Options:</div>
<div class="line">Example : <code class="code docutils literal notranslate"><span class="pre">(5,5)</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">n:</span></code></p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">random</span></code> / <code class="code docutils literal notranslate"><span class="pre">pseudo_random</span></code> sampling fraction</p></td>
<td><div class="line-block">
<div class="line">Options:</div>
<div class="line">Ex. : <code class="code docutils literal notranslate"><span class="pre">0.15</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">masks:</span></code></p></td>
<td><p>TIFF mask to compress image portion</p></td>
<td><div class="line-block">
<div class="line">Options:</div>
<div class="line">Ex. : <code class="code docutils literal notranslate"><span class="pre">'moving-mask.tiff'</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">save_mem:</span></code></p></td>
<td><p>reduce memory footprint</p></td>
<td><div class="line-block">
<div class="line">Options:</div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">True</span></code> for large image compression</div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">False</span></code> if interactive Python code</div>
</div>
</td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Step : <code class="code docutils literal notranslate"><span class="pre">ProcessingSteps</span></code></p></td>
<td><p>steps to process images</p></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">-</span> <span class="pre">RunOptimalUMAP</span></code></p></td>
<td><p>steady-state compression</p></td>
<td><div class="line-block">
<div class="line">Options:</div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">n_neighbors</span></code> nearest neighbors (Ex. <code class="code docutils literal notranslate"><span class="pre">15</span></code>)</div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">landmarks</span></code> spectral centroids (Ex. <code class="code docutils literal notranslate"><span class="pre">3000</span></code>)</div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">metric</span></code> UMAP metric (Ex. <code class="code docutils literal notranslate"><span class="pre">euclidean</span></code>)</div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">random_state</span></code> seed (Ex. <code class="code docutils literal notranslate"><span class="pre">1</span></code>)</div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">dim_range</span></code> range of dimensionalities (Ex. <code class="code docutils literal notranslate"><span class="pre">(1,10)</span></code>)</div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">**kwargs</span></code> kwargs passed to <a class="reference external" href="https://github.com/lmcinnes/umap">UMAP</a></div>
</div>
</td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">-</span> <span class="pre">RunUMAP</span></code></p></td>
<td><p>UMAP compression</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">**kwargs</span></code> passed to <a class="reference external" href="https://github.com/lmcinnes/umap">UMAP</a></p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">-</span> <span class="pre">RunOptimalParametricUMAP</span></code></p></td>
<td><p>neural network steady state UMAP</p></td>
<td><div class="line-block">
<div class="line">Options:</div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">n_neighbors</span></code> nearest neighbors (Ex. <code class="code docutils literal notranslate"><span class="pre">15</span></code>)</div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">landmarks</span></code> spectral centroids (Ex. <code class="code docutils literal notranslate"><span class="pre">3000</span></code>)</div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">metric</span></code> UMAP metric (Ex. <code class="code docutils literal notranslate"><span class="pre">euclidean</span></code>)</div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">random_state</span></code> seed (Ex. <code class="code docutils literal notranslate"><span class="pre">1</span></code>)</div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">dim_range</span></code> range of dimensionalities (Ex. <code class="code docutils literal notranslate"><span class="pre">(1,10)</span></code>)</div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">**kwargs</span></code> kwargs passed to <a class="reference external" href="https://github.com/lmcinnes/umap">UMAP</a></div>
</div>
</td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">-</span> <span class="pre">RunParametricUMAP</span></code></p></td>
<td><p>neural network UMAP compression</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">**kwargs</span></code> passed to <a class="reference external" href="https://github.com/lmcinnes/umap">UMAP</a></p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">-</span> <span class="pre">SpatiallyMapUMAP</span></code></p></td>
<td><p>reconstruct compressed image</p></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">-</span> <span class="pre">ApplyManualMask</span></code></p></td>
<td><p>apply manual mask</p></td>
<td><div class="line-block">
<div class="line">Options:</div>
<div class="line">mask accessed from <code class="code docutils literal notranslate"><span class="pre">ImportOptions</span></code></div>
</div>
</td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">-</span> <span class="pre">MedianFilter</span></code></p></td>
<td><p>median filter (remove salt and pepper noise)</p></td>
<td><div class="line-block">
<div class="line">Options:</div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">filter_size</span></code> filter disk size (Ex. <code class="code docutils literal notranslate"><span class="pre">15</span></code>)</div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">parallel</span></code> use parallel processing (<code class="code docutils literal notranslate"><span class="pre">True</span></code> or <code class="code docutils literal notranslate"><span class="pre">False</span></code>)</div>
</div>
</td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">-</span> <span class="pre">Threshold</span></code></p></td>
<td><p>create mask by thresholding</p></td>
<td><div class="line-block">
<div class="line">Options:</div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">type</span></code> threshold type (<code class="code docutils literal notranslate"><span class="pre">'manual'</span> <span class="pre">or</span> <span class="pre">'otsu'</span></code>)</div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">thresh_value</span></code> manual threshold value (Ex. <code class="code docutils literal notranslate"><span class="pre">1.0</span></code>)</div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">correction</span></code> multiply threshold for stringent results (Ex. <code class="code docutils literal notranslate"><span class="pre">1.2</span></code>)</div>
</div>
</td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">-</span> <span class="pre">Open</span></code></p></td>
<td><p>morphological closing on mask</p></td>
<td><div class="line-block">
<div class="line">Options:</div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">disk_size</span></code> filter disk size (Ex. <code class="code docutils literal notranslate"><span class="pre">15</span></code>)</div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">parallel</span></code> use parallel processing (<code class="code docutils literal notranslate"><span class="pre">True</span></code> or <code class="code docutils literal notranslate"><span class="pre">False</span></code>)</div>
</div>
</td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">-</span> <span class="pre">Close</span></code></p></td>
<td><p>resume workflow with cached results</p></td>
<td><div class="line-block">
<div class="line">Options:</div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">disk_size</span></code> filter disk size (Ex. <code class="code docutils literal notranslate"><span class="pre">15</span></code>)</div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">parallel</span></code> use parallel processing (<code class="code docutils literal notranslate"><span class="pre">True</span></code> or <code class="code docutils literal notranslate"><span class="pre">False</span></code>)</div>
</div>
</td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">-</span> <span class="pre">Fill</span></code></p></td>
<td><p>Fill holes in mask</p></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">-</span> <span class="pre">ApplyMask</span></code></p></td>
<td><p>apply mask to image for final processing step</p></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">-</span> <span class="pre">NonzeroBox</span></code></p></td>
<td><p>extract image bounding box (for controlled padding)</p></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Step : <code class="code docutils literal notranslate"><span class="pre">ExportNifti1</span></code></p></td>
<td><p>export in the NIfTI format</p></td>
<td><div class="line-block">
<div class="line">Options:</div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">padding</span></code> pad to add to images image (Ex. <code class="code docutils literal notranslate"><span class="pre">(50,50)</span></code>)</div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">target_size</span></code> resize image before padding (Ex. <code class="code docutils literal notranslate"><span class="pre">(1000,1050)</span></code>)</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="hdireg">
<span id="hdireg-to-hdireg-parameters"></span><h2>HDIreg<a class="headerlink" href="#hdireg" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default" id="id6">
<caption><span class="caption-text">—elastix-pars</span><a class="headerlink" href="#id6" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Flag</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Options</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">--p</span></code></p></td>
<td><p>parameter file(s) for registration</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">*.txt</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">--mp</span></code></p></td>
<td><p>moving image landmark points</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">*.txt</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">--fp</span></code></p></td>
<td><p>fixed image landmark points</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">*.txt</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">--fMask</span></code></p></td>
<td><p>fixed image mask</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">*.tif</span></code></p></td>
</tr>
</tbody>
</table>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can chain together multiple elastix parameter files by
supplying multiple inputs. For example, an affine registration followed
by a nonlinear one can be implemented as <code class="code docutils literal notranslate"><span class="pre">--p</span> <span class="pre">affine.txt</span> <span class="pre">nonlinear.txt</span></code> where
<code class="code docutils literal notranslate"><span class="pre">affine.txt</span></code> and <code class="code docutils literal notranslate"><span class="pre">nonlinear.txt</span></code> are your parameter files.</p>
</div>
<table class="docutils align-default" id="id7">
<caption><span class="caption-text">—transformix-pars</span><a class="headerlink" href="#id7" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Flag</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Options</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">--tps</span></code></p></td>
<td><p>transformation parameter file(s)</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">*.txt</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">--target_size</span></code></p></td>
<td><p>resize image before padding</p></td>
<td><p>(Ex. <code class="code docutils literal notranslate"><span class="pre">(1000,1050)</span></code>)</p></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">--pad</span></code></p></td>
<td><p>pad to add to images image</p></td>
<td><p>(Ex. <code class="code docutils literal notranslate"><span class="pre">(50,50)</span></code>)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">--trim</span></code></p></td>
<td><p>number of pixels to trim off edges</p></td>
<td><p>(Ex. <code class="code docutils literal notranslate"><span class="pre">50</span></code>)</p></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">--out_ext</span></code></p></td>
<td><p>aligned image final file format</p></td>
<td><div class="line-block">
<div class="line"><code class="code docutils literal notranslate"><span class="pre">.ome.tiff</span></code></div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">.ome.tif</span></code></div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">.tiff</span></code></div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">.hdf5</span></code></div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">.h5</span></code></div>
<div class="line"><code class="code docutils literal notranslate"><span class="pre">.nii</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you use multiple registration parameter files in elastix, then you
should add both sets of transformation parameters to the transformix command
to receive final results. From the above example, two transformation parameter
files would be exported – <code class="code docutils literal notranslate"><span class="pre">TransformationParameters.0.txt</span></code> for the
affine registration and <code class="code docutils literal notranslate"><span class="pre">TransformationParameters.1.txt</span></code> for nonlinear.
Your transformix call should be <code class="code docutils literal notranslate"><span class="pre">--tps</span> <span class="pre">TransformationParameters.0.txt</span> <span class="pre">TransformationParameters.1.txt</span></code></p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="tutorials.html" class="btn btn-neutral float-right" title="Tutorials" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="workflows.html" class="btn btn-neutral float-left" title="Workflows" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Joshua Hess.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>